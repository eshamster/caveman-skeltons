<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Caveman-skeltons : Skeltons for Caveman2">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Caveman-skeltons</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/eshamster/caveman-skeltons">View on GitHub</a>

          <h1 id="project_title">Caveman-skeltons</h1>
          <h2 id="project_tagline">Skeltons for Caveman2</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/eshamster/caveman-skeltons/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/eshamster/caveman-skeltons/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="caveman-skeltons" class="anchor" href="#caveman-skeltons" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Caveman-Skeltons</h1>

<p>This includes skeltons for <a href="https://github.com/fukamachi/caveman">Caveman2</a>.</p>

<p><strong><em>Note: The base skelton (in the master branch) is copied from the original skelton in caveman2.</em></strong></p>

<h2>
<a id="instalation--usage" class="anchor" href="#instalation--usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Instalation &amp; Usage</h2>

<ol>
<li>Clone this repository to a directory that can be searched by quicklisp.</li>
<li>Checkout a branch that contains a skelton that you hope to use.</li>
</ol>

<div class="highlight highlight-source-lisp"><pre><span class="pl-c">;; omit output</span>
&gt; (ql:quickload :caveman-skeltons)
&gt; (caveman-skeltons:make-project <span class="pl-c1">#p"/path/to/project"</span>)</pre></div>

<h2>
<a id="relationship-diagram-of-branches" class="anchor" href="#relationship-diagram-of-branches" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Relationship diagram of branches</h2>

<p><img src="http://g.gravizo.com/g?%0A%20%20digraph%20G%20%7B%0A%20%20%20%20rankdir=%22LR%22;%0A%20%20%20%20aize%20=%224,4%22;%0A%20%20%20%20master%20%5Bshape=box%5D;%0A%20%20%20%20with_cl_markup%20%5Bshape=box%5D;%0A%20%20%20%20with_parenscript%20%5Bshape=box%5D;%0A%20%20%20%20master%20-%3E%20with_cl_markup;%0A%20%20%20%20with_cl_markup-%3E%20with_parenscript;%0A%20%20%7D" alt="Alt text"></p>

<h2>
<a id="about-each-branch" class="anchor" href="#about-each-branch" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About each branch</h2>

<h3>
<a id="with_cl_markup" class="anchor" href="#with_cl_markup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>with_cl_markup</h3>

<p>This adopts <a href="https://github.com/arielnetworks/cl-markup">CL-Markup</a> as a default template engine instead of <a href="https://mmontone.github.io/djula/">Djula</a></p>

<p>If you want to add a new template...</p>

<ol>
<li>Add a file name (= a template name) to <code>&lt;your project name&gt;.asd</code> under the "templates" module.</li>
<li>Add a lisp file as <code>templates/&lt;template name&gt;.lisp</code>, then...

<ol>
<li>Make a package as the name <code>&lt;your project name&gt;.templates.&lt;template name&gt;</code>.</li>
<li>Make a function <code>render</code> that returns a HTML code as a string.

<ul>
<li>We suppose that you use CL-Markup to make the return value.</li>
<li>Arguments of it is arbitrary.</li>
</ul>
</li>
</ol>
</li>
<li>Use the template in <code>src/web.lisp</code> using the <code>&lt;your project name&gt;.view:render</code> function

<ul>
<li><code>(render :&lt;template name&gt; &lt;aruguments if needed&gt;)</code></li>
</ul>
</li>
</ol>

<p>If you want to see an example, please see the <code>templates/index.lisp</code></p>

<h3>
<a id="with_parenscript" class="anchor" href="#with_parenscript" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>with_parenscript</h3>

<p><strong><em>This is created from the <code>with_cl_markup</code> branch.</em></strong></p>

<p>This adopts <a href="https://common-lisp.net/project/parenscript/">Parenscript</a> to generate JavaScript codes.</p>

<p>If you want to add a new file...</p>

<ol>
<li>Add a file name (with no suffix) to <code>&lt;your project name&gt;.asd</code> under the "static/js" module.</li>
<li>Add a lisp file as <code>static/js/&lt;name&gt;.lisp</code>, then...

<ol>
<li>Make a package as the name <code>&lt;your project name&gt;.static.js.&lt;name&gt;</code>.</li>
<li>Make a function <code>js-main</code> that returns a JavaScript code as a string.

<ul>
<li>We suppose that you use Parenscript to generate it.</li>
<li>This is a function that has no argument.</li>
</ul>
</li>
</ol>
</li>
<li>Use this in templates using the <code>&lt;your project name&gt;.static.js.utils:load-js</code> function

<ul>
<li><code>(load-js :&lt;name&gt;)</code></li>
<li>This function generates a JavaScript file as <code>static/js/_&lt;name&gt;.js</code>
</li>
</ul>
</li>
</ol>

<p>If you want to see an example, please see the <code>static/js/index.lisp</code> and <code>templates/index.lisp</code></p>

<h2>
<a id="author" class="anchor" href="#author" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Author</h2>

<ul>
<li>eshamster (<a href="mailto:hamgoostar@gmail.com">hamgoostar@gmail.com</a>)</li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Licensed under the LLGPL License.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Caveman-skeltons maintained by <a href="https://github.com/eshamster">eshamster</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
